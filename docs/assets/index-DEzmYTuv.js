(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function W(e,t,n){const a=new google.visualization.DataTable;a.addColumn("number","Count");for(let c of n)a.addRow([c]);const r={title:e,width:420,height:320,legend:{position:"none"},hAxis:{showTextEvery:Math.floor(10)}},o=document.getElementById(t);new google.visualization.Histogram(o).draw(a,r)}function I(e,t,n,a,r,o,s){var c=google.visualization.arrayToDataTable([["Distribution","Avg Mean Difference %","Avg Std Dev Difference %"],["Uniform",n.mean*100,n.stddev*100],["Symmetric",a.mean*100,a.stddev*100],["Skewed",r.mean*100,r.stddev*100]]),u={chart:{title:e,subtitle:"Lower is better"},bars:"horizontal",hAxis:{format:"decimal",viewWindow:{min:o,max:s}},width:1280,height:400,colors:["#89138a","#e6bb18"]},m=new google.charts.Bar(document.getElementById(t));m.draw(c,google.charts.Bar.convertOptions(u))}function Z(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K={exports:{}};/*! streamsaver. MIT License. Jimmy WÃ¤rting <https://jimmy.warting.se/opensource> */(function(e){((t,n)=>{e.exports=n()})("streamSaver",()=>{const t=typeof window=="object"?window:this;t.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let n=null,a=!1;const r=p=>{try{p()}catch{}},o=t.WebStreamsPolyfill||{},s=t.isSecureContext;let c=/constructor/i.test(t.HTMLElement)||!!t.safari||!!t.WebKitPoint;const u=s||"MozAppearance"in document.documentElement.style?"iframe":"navigate",m={createWriteStream:B,WritableStream:t.WritableStream||o.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function h(p){if(!p)throw new Error("meh");const i=document.createElement("iframe");return i.hidden=!0,i.src=p,i.loaded=!1,i.name="iframe",i.isIframe=!0,i.postMessage=(...w)=>i.contentWindow.postMessage(...w),i.addEventListener("load",()=>{i.loaded=!0},{once:!0}),document.body.appendChild(i),i}function b(p){const i="width=200,height=100",w=document.createDocumentFragment(),l={frame:t.open(p,"popup",i),loaded:!1,isIframe:!1,isPopup:!0,remove(){l.frame.close()},addEventListener(...d){w.addEventListener(...d)},dispatchEvent(...d){w.dispatchEvent(...d)},removeEventListener(...d){w.removeEventListener(...d)},postMessage(...d){l.frame.postMessage(...d)}},v=d=>{d.source===l.frame&&(l.loaded=!0,t.removeEventListener("message",v),l.dispatchEvent(new Event("load")))};return t.addEventListener("message",v),l}try{new Response(new ReadableStream),s&&!("serviceWorker"in navigator)&&(c=!0)}catch{c=!0}r(()=>{const{readable:p}=new TransformStream,i=new MessageChannel;i.port1.postMessage(p,[p]),i.port1.close(),i.port2.close(),a=!0,Object.defineProperty(m,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})});function O(){n||(n=s?h(m.mitm):b(m.mitm))}function B(p,i,w){let l={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},v=0,d=null,f=null,P=null;if(Number.isFinite(i)?([w,i]=[i,w],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),l.size=w,l.writableStrategy=i):i&&i.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),l.size=w,l.writableStrategy=i):l=i||{},!c){O(),f=new MessageChannel,p=encodeURIComponent(p.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const y={transferringReadable:a,pathname:l.pathname||Math.random().toString().slice(-6)+"/"+p,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+p}};l.size&&(y.headers["Content-Length"]=l.size);const M=[y,"*",[f.port2]];if(a){const T=u==="iframe"?void 0:{transform(F,Y){if(!(F instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");v+=F.length,Y.enqueue(F),d&&(location.href=d,d=null)},flush(){d&&(location.href=d)}};P=new m.TransformStream(T,l.writableStrategy,l.readableStrategy);const G=P.readable;f.port1.postMessage({readableStream:G},[G])}f.port1.onmessage=T=>{T.data.download?u==="navigate"?(n.remove(),n=null,v?location.href=T.data.download:d=T.data.download):(n.isPopup&&(n.remove(),n=null,u==="iframe"&&h(m.mitm)),h(T.data.download)):T.data.abort&&(E=[],f.port1.postMessage("abort"),f.port1.onmessage=null,f.port1.close(),f.port2.close(),f=null)},n.loaded?n.postMessage(...M):n.addEventListener("load",()=>{n.postMessage(...M)},{once:!0})}let E=[];return!c&&P&&P.writable||new m.WritableStream({write(y){if(!(y instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");if(c){E.push(y);return}f.port1.postMessage(y),v+=y.length,d&&(location.href=d,d=null)},close(){if(c){const y=new Blob(E,{type:"application/octet-stream; charset=utf-8"}),M=document.createElement("a");M.href=URL.createObjectURL(y),M.download=p,M.click()}else f.port1.postMessage("end")},abort(){E=[],f.port1.postMessage("abort"),f.port1.onmessage=null,f.port1.close(),f.port2.close(),f=null}},l.writableStrategy)}return m})})(K);var ee=K.exports;const te=Z(ee);let N=null,A=null;const q=new TextEncoder;function g(e,t=!0){A.write(q.encode(e)),t&&A.write(q.encode(","))}function C(){A.write(q.encode(`
`))}function ne(){V(),N=te.createWriteStream("data.csv"),A=N.getWriter()}function x(e,t){g(e);for(let n=0;n<t.length-1;n++)g(t[n]);g(t[t.length-1],!1),C()}function k(e){g("Mean"),g(e.mean),C(),g("SD"),g(e.stddev),C(),g("Median"),g(e.median),C(),g("MAD1"),g(e.mad1),C(),g("MAD2"),g(e.mad2),C()}function L(){C()}function V(){A&&A.close(),N=null,A=null}function S(e){return document.getElementById(e)}function U(e,t=!0){const n=S(e),a=n.value;let r=Math.floor(Math.abs(parseInt(a)));return(isNaN(r)||r<0)&&(r=0),t&&r===0&&(r=1),n.value=r,r}function re(e){return S(e).checked}function X(){S("start-button").style.display="inline-block",["population-chart-section","samples-progress-bar-section","comparison-section"].forEach(e=>{S(e).style.display="none"})}function ae(){S("population-chart-section").style.display="flex"}function H(e,t,n=!1){const a=Math.floor(e/t*100),r=S("samples-progress-bar");r.style.width=`${a}%`,r.innerText=`${a}%`;const o=S("samples-progress-bar-text");n?o.innerText="":o.innerText="Generating Samples..."}function oe(){S("samples-progress-bar-section").style.display="block"}function se(){S("comparison-section").style.display="block"}function J(e){e?S("start-button").disabled="":S("start-button").disabled="disabled",S("save-checkbox").checked=!1}function j(e,t){S(e).value=`Mean     ${t.mean.toFixed(2)}
SD       ${t.stddev.toFixed(2)}

Median   ${t.median.toFixed(2)}
MAD1     ${t.mad1.toFixed(2)}
MAD2     ${t.mad2.toFixed(2)}`}function ie(e,t){return Math.floor(e+Math.random()*t)}function _(e,t,n,a,r){const o=[];for(let s=0;s<e;s++)o.push(Math.floor(t()*e));for(let s=0;s<n;s++)o.push(ie(a,r));return o}function ce(e,t,n,a){return _(e,()=>Math.random(),t,n,a)}function le(e,t,n,a){return _(e,()=>(Math.random()+Math.random()+Math.random()+Math.random())/4,t,n,a)}function de(e,t,n,a){return _(e,()=>Math.max(Math.random(),Math.random(),Math.random(),Math.random()),t,n,a)}function me(e){return e%2}function ue(e,t){return Math.sqrt(e.map(n=>(n-t)**2).reduce((n,a)=>n+a,0)/e.length)}function fe(e,t){return Q(e.map(n=>Math.abs(n-t)))}function pe(e,t){return e.map(n=>Math.abs(n-t)).reduce((n,a)=>n+a,0)/e.length}function Q(e){const t=e.sort((n,a)=>n-a);return me(t.length)?t[Math.floor(t.length/2)]:(t[t.length/2-1]+t[t.length/2])/2}function D(e,t=!1){const n=e.reduce((c,u)=>c+u,0)/(t?e.length:e.length-1),a=ue(e,n),r=Q(e),o=fe(e,r),s=pe(e,r);return{median:r,mean:n,stddev:a,mad1:o,mad2:s}}function he(e){const t=[...e];for(let n=t.length-1;n>0;n-=1){const a=Math.floor(Math.random()*(n+1)),r=t[a],o=t[n];t[n]=r,t[a]=o}return t}function $(e,t){return he(e).slice(0,t)}function z(e,t){return e.map(n=>Math.abs(n-t)/t)}function R(e,t){const n=t.map(b=>b.stddev),a=t.map(b=>b.mad1),r=t.map(b=>b.mad2),o=z(n,e.stddev),s=z(a,e.mad1),c=z(r,e.mad2),u=D(o),m=D(s),h=D(c);return{stddevPercentDiffStats:u,mad1PercentDiffStats:m,mad2PercentDiffStats:h}}function ge(e,t,n){let a=Number.MAX_SAFE_INTEGER,r=0;for(let o of[e,t,n])for(let s of["stddevPercentDiffStats","mad1PercentDiffStats","mad2PercentDiffStats"]){const c=o[s],u=Math.min(c.mean,c.stddev),m=Math.max(c.mean,c.stddev);u<a&&(a=u),m>r&&(r=m)}return[Math.floor(a*100),Math.ceil(r*100)]}window.onerror=(e,t,n,a,r)=>{V(),alert(`Program Error! Please report the following information, and refresh this page to try again:
message: ${e}
source:  ${t}
lineno:  ${n}
error:   ${r}
`),console.error(e,t,n,a,r)};google.charts.load("current",{packages:["corechart","bar"]});google.charts.setOnLoadCallback(()=>{X(),setTimeout(()=>{document.getElementById("start-button").click()},1)});document.getElementById("parameters-form").addEventListener("submit",e=>{e.preventDefault(),X(),setTimeout(()=>Se(),33)});function Se(){const e=re("save-checkbox");J(!1);const t=U("population-size"),n=U("sample-size"),a=U("sample-count"),r=U("outliers-count",!1),o=U("outlier-distance"),s=U("outlier-spread"),c=ce(t,r,o,s),u=le(t,r,o,s),m=de(t,r,o,s);W("Uniform Population","popchart-uniform",c),W("Symmetric Population","popchart-symmetric",u),W("Skewed Population","popchart-skewed",m);const h=D(c,!0),b=D(u,!0),O=D(m,!0);j("population-uniform-stats",h),j("population-symmetric-stats",b),j("population-skewed-stats",O),e&&(ne(),x("Uniform Population",c),k(h),L(),x("Symmetric Population",u),k(b),L(),x("Skewed Population",m),k(O),L()),ae(),setTimeout(()=>{const B=[],p=[],i=[];function w(){const d=$(c,n),f=D(d);B.push(f),e&&(x("Uniform Sample",d),k(f),L());const P=$(u,n),E=D(P);p.push(E),e&&(x("Symmetric Sample",P),k(E),L());const y=$(m,n),M=D(y);i.push(M),e&&(x("Skewed Sample",y),k(M),L())}let l=0;function v(){const d=Date.now();for(;l<a&&(l+=1,w(),!(Date.now()-d>100)););H(l,a),l>=a?(H(l,a,!0),V(),we(h,b,O,B,p,i)):setTimeout(v,1)}oe(),v()},33)}function we(e,t,n,a,r,o){const s=R(e,a),c=R(t,r),u=R(n,o),[m,h]=ge(s,c,u);I("Standard Deviation Percent Difference","stddev-comparison-chart",s.stddevPercentDiffStats,c.stddevPercentDiffStats,u.stddevPercentDiffStats,m,h),I("Median Absolute Deviation #1 Percent Difference","mad1-comparison-chart",s.mad1PercentDiffStats,c.mad1PercentDiffStats,u.mad1PercentDiffStats,m,h),I("Median Absolute Deviation #2 Percent Difference","mad2-comparison-chart",s.mad2PercentDiffStats,c.mad2PercentDiffStats,u.mad2PercentDiffStats,m,h),se(),J(!0)}
